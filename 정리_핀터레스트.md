##### 핀터레스트를 만들겁니다.

- 글, 마이페이지, 반응형, 댓글, 팔로우, 구독, ... 등등 만들 예정
- 프론트엔드 - JS, HTML, CSS
- 백엔드 - NGINX(서버), django(프레임워크), docker(배포), 마리아(DB)

![img](https://blog.kakaocdn.net/dn/QERpw/btqQjob2AmK/HcvryVTiY0UMJHatNagaK1/img.png)

요렇게 만들면 이 장고 서비스 하나가 도커 - 하나의 컨테이너가 됨

![img](https://blog.kakaocdn.net/dn/UusRc/btqQhK7v2Tj/iJI2d2Itn3qO2ixoNZNiT1/img.png)

이렇게 집어넣어줌. 이런식으로 각각의 컨테이너를 구축해서 도커 시스템으로 구축

마지막에 VULTR 라는 가상 서버 빌린 후 구축한 도커 시스템 올려서 서비스를 배포 해볼거에요!



##### 개발환경 셋업

==> [점프투장고](https://wikidocs.net/72377) 참조하기, 이건 가상환경 가서 django같은거 설치하고 플젝 생성이고

아래건 실제 환경에 django 설치하고 추가한거(이건 venv(가상환경)가 플젝 파일에 자동으로 생성)

- mkdir NAME
- cd NAME
- django-admin startproject config . 
- 그 플젝 열고 인터프리터 가서 add 하고 ok 눌러주면 새로운 가상환경 추가됨

##### MVC(Model View Controller)

- 애플에서 만든 개발 패턴인데 장고는 여기서 controller대신 template으로 (거의 명칭만 다름)

- Model: DB관련
- View: 유저-서버 통신(인증, 계산, 확인 등)
- Template: 인터페이스
- template <-> view <-> model

##### Acoount

- 터미널 들어가서 (ctrl + shift + tap + t)
- python manage.py startapp accountApp
- project/settings.py 에서 installed_apps 에서 'accountApp' 매핑 시켜줌

```python
#accountApp/views.py
def hello_world(request):
    return HttpResponse('Hello world')	#Alt + Enter 누르면 자동으로 import해줌 개꿀
```

```python
#accountApp/urls.py
path('account/', include('accountApp.urls'))	#이거 추가해서 매핑시켜줌
```

```python
#config/urls.py
app_name = 'accountApp'		#이렇게 해두면 나중에 함수써서 쉽게 호출가능
urlpatterns = [
    path('hello_world/', hello_world, name='hello_world')
]
```

- 이러고 서버 구동 시킨 후 http://127.0.0.1:8000/account/hello_world/ 들어보면 잘 뜸

##### git ignore(7강 참고)

- project - .gitignore 파일 만들고 [요기](https://github.com/github/gitignore/blob/master/Global/JetBrains.gitignore)에서 복붙 해넣으면 필요없는거 추적 안함

- config/settings.py 에 secret_key 관리해줘야하는데, [요기](https://django-environ.readthedocs.io/en/latest/)서 secret_key 노출 안시키고 내부 파일에서 자동으로 읽어서 개선해줄 수 있음
- 위 사이트에서 하란대로 하면 됨 pip install dajngo-environ

```python
#settings
import environ
env = environ.Env(
    # set casting, default value
    DEBUG=(bool, False)
)
```

- .env 파일 만들어서

```python
#.env
DEBUG=on
SECRET_KEY=your-secret-key			#이부분 settings에 있는 내 secret_key 입력(''x)
DATABASE_URL=psql://urser:un-githubbedpassword@127.0.0.1:8458/database
SQLITE_URL=sqlite:///my-local-sqlite.db
CACHE_URL=memcache://127.0.0.1:11211,127.0.0.1:11212,127.0.0.1:11213
REDIS_URL=rediscache://127.0.0.1:6379/1?client_class=django_redis.client.DefaultClient&password=ungithubbed-secret
```

```python
#settings
import os
#BASE_DIR아래쪽에
environ.Env.read_env(
    env_file = os.path.join(BASE_DIR, '.env')
)
```

```python
#settings 가서 이렇게 수정하고
SECRET_KEY = env('SECRET_KEY')
#.gitignore 가서
.env 	#라고 추가해주면 추적 안됨
```

- VCS - Enable Version control integration 누르고 git 누르면 추적 되는거 안되는거 구분 됨
- git status 해가면서 필요 없는거 추가해주면 됨 (Ex. .idea/)

```python
#.gitignore
.env
db.sqlite3
.idea/
__pycache__/
#가상환경 python에서 그냥 만들었으면 venv/ 추가
```

##### template

- extends: 바탕을 깔아주는 느낌

![img](https://blog.kakaocdn.net/dn/UrTQz/btqQu4dP7X7/AaEjIiB1hKj30qnZNmQq10/img.png)

- include: 뭔가를 가져와서 갖다 붙이는 느낌

![img](https://blog.kakaocdn.net/dn/xe51n/btqQmQujZen/SDdFPPj7v0c3ExWZIsZb9K/img.png)

![img](https://blog.kakaocdn.net/dn/bKaDgC/btqQu5cHWuy/XYg7Z1reb2rjmkzFwBCEIk/img.png)

- project 폴더에 templates 폴더 생성, 그 안에 base.html 생성

- views.py에서 html파일(템플릿) 가지고 와서 그 내용 채워넣는 형식으로 만들거임

```python
#views.py
def hello_world(request):
    return render(request, 'base.html')
```

```python
#config/settings.py 에 매핑 해줘야함
TEMPLATES = [
    {
        'DIR': [os.path.join(BASE_DIR, 'templates')],
    }
]
```

- templates파일에 head.html 생성

```html
<!-- head.html -->
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
```

```html
<!-- base.html -->
<!DOCTYPE html>
<html lang="ko">
    
{% include 'head.html' %}
<body>
    <!-- border-radius: 블럭의 가장자리, margin: 컴포넌트 사이 마진?-->
    <div style='height: 10rem; background-color: #38df81; border-radius: 1rem; margin: 2rem'> 
    </div>
    
    <div style='height: 20rem; background-color: #38df81; border-radius: 1rem; margin: 2rem'> 
    </div>
    
    <div style='height: 10rem; background-color: #38df81; border-radius: 1rem; margin: 2rem'> 
    </div>
    </body>
</html>
```

- ##### Tip] 알트 누르고 커서 여러개 클릭하면 다중커서 조절 가능!!

- 서버 켜서 어떻게 되었나 한번 확인해보기

- 여기 body에서 3개 부분이 있는데 첫부분, 세번째 부분은 계속 사용할거므로 include 구문 사용해서 만들어줌

```html
<!-- header.html, footer.html 만들고 아래처럼 include하면 똑같이 쓸수있음-->
<body>
	{% include 'header.html' %}
    {% block content %}
    {% endblock %}
    {% include 'footer.html' %}
</body>
```

- content부분 accountApp 내부에서 사용할거임, 이제 그거 사용하기 위해
- accountApp 폴더에 templates 폴더 만들고, 그 안에 accountApp 폴더 만들어줌
- 그 안에다가 .html 파일 만들어줄거, 저거 폴더 많이 만드는 이유는 나중에 가져오는 코드 짤때 가독성 높이기 위해서래
- hello_wolrd.html 만들고 

```html
<!--아래처럼 하면 base.html 내용 다 가져오는데 block만 바꿀 수 있음-->
{% extends 'base.html' %}	

<!-- 아래처럼 내용 쓰면 렌더링 하게 됨-->
{% block content %}
	<div style='height: 20rem; background-color: #38df81; border-radius: 1rem; margin: 2rem'>
        <h1>
            test1
        </h1>
	</div>
{% endblock %}
```

```python
#accountApp/views.py
def hello_world(request):
    return render(request, 'accountApp/hello_world.html')
```

##### style

- 윗 부분을 꾸며봅시다~

```html
<!--header.html-->
<div>
    <div>
        <h1>pinterest</h1>
    </div>
    <div>
        <span>nav1</span>
        <span>nav2</span>
        <span>nav3</span>
        <span>nav4</span>
    </div>
</div>
```

- 이거 하고 서버 키고 들어가보면 왼쪽에 가있는데 F12 눌러서 테스트 해볼 수 있음
- div쪽 누르고 style 부분에 text-align: cneter; 이런식으로 테스트 가능
- 이번엔 밑 부분을 꾸며봅시다~

```html
<!--footer.html-->
<div style="text-align:center; margin-top: 2rem;">
    <div style="font-size: .6rem;">
        <span>공지사항</span> |
        <span>제휴문의</span> |
        <span>서비스 소개</span>
    </div>
    <div style="margin-top: 1rem;">
        <h6 style="margin-top: 1rem;">pinterest</h6>
    </div>
</div>
```

- margin: 2rem 0; 이러면 앞에 숫자는 상하, 뒤에 숫자는 좌우
- base.html <body>에 위, 중간, 아래 사이에 <hr> 구분선 넣어주면 더 이뻐짐

##### bootstrap

- [여기](https://getbootstrap.com/docs/5.0/getting-started/introduction/)들어가서 css 복사 한 후에 head.html <head>쪽에 넣어줌
- Tip) ctrl + / 하면 주석
- 구글 폰트 검색해서 글자 써보고 이뻐보이는 폰트 고르면 됨 select this style 누르면 링크 뜨는데 head.html 파일에 복붙해주면 됨(이런거 적용하면서 어떤건지 주석 달기)
- css rules to specify families 부분 복사해서 적용할 곳에 붙여넣기 해넣어주면 끝(적용할 style 부분, 여기선 header.html의 제목부분, footer.html의 아래 제목 부분)

##### CSS파일 분리

- 보통 html에 뼈대만 남겨두고 style 같은거(디자인적인거) css로 빼줌
- static 설정 해볼거

```python
#setting.py
STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')	#나중에 python manage.py collectstatic 하면 static 파일 모아주는데 그 모아주는 위치임
STATICFILES_DIRS = [
    BASE_DIR / "static",
]
```

- tip) ctrl + b 하면 선언된 곳 찾아줌
- 프로젝트 폴더에 static 폴더 만들어줌 여기서 static 파일들 관리할거
- static에서 base.css 생성

```html
<!-- footer.html -->
<!-- 수정 -->
<h6 class="pinterest_footer_logo">pinterest</h6>
```

```css
/* base.css */
.pinterest_footer_logo{
    font-family: 'Lobster', cursive;
}
```

```html
<!-- head.html -->
{% load static %}	<!-- 맨 위에 -->

<!-- DEFAULT CSS LINK -->
<link rel="stylesheet" type="text/css" href="{% static 'base.css'%}">
```

```python
#settings.py
STATIC_URL = '/head.html/'
```

- 추가로 style => class로 바꿔서 base.css로 넘겨주는거 11강_13분~

##### CSS 핵심

- display

  - block
    - 부모의 최대한의 너비 가지고 블록 모양으로 있는 애
  - Inline
    - 글씨의 높이만큼
  - Inline-block
    -  블록인데 inline처럼 안쪽부터 쌓이는 블록
  - None
    - 없어요

- visibility

  - hidden
    - display가 만약 None으로 바뀌면 빈곳  채워 넣는데 visibility-hidden이면 보이진 않지만 존재함 다른거 그대로

- size

  :Respnsive 즉, 반응형으로 만들어야 하므로 size 중요

  - px
    - 부모에 상관없이 픽셀 크기만큼
  - em
    - 부모가 커지면 그만큼 자기도 커짐
    - 근데 부모가 여러개 있을 때 문제 (Ex.할아버지가 2배, 부모 2배 되면 자신은 4배 됨)
  - <u>rem</u>
    - 부모에 상관없이 root HTML의 사이즈에 따라 바뀜
- 1rem = 16px이 기본
  
  - %
    - 바로 위의 부모만 따라감 

##### display 실습

- style 적용 방법 3가지

```html
<!-- 적용 우선순위 1, 3, 2-->
<!-- 1 -->
<div style=""> </div>
<!-- 2 -->
<div class ="NAME"> </div>
.NAME {
	STYLE
}
<!-- 3 -->
<style>
    .tesing{
        background-color: white;
    }
</style>
```

```html
<!-- display 실습 -->
<style>
    .testing{
        background-color: white;
        height: 3rem;
        width: 3rem;
        margin: 1rem;
    }
</style>
<div class="testing" style="display: block;"> block </div>
<div class="testing" style="display: block;"> block </div>
<div class="testing" style="display: inline;"> inline </div>
<div class="testing" style="display: inline;"> inline </div>
<div class="testing" style="display: None;"> None </div>
<div class="testing" style="display: inline-block;"> inline-block </div>
<div class="testing" style="display: inline-block;"> inline-block </div>
<div class="testing"> div_default </div>
<span class="testing"> span_default</span>
```

- div 기본 속성 block
- span 기본 속성 inline 
- 이렇게 놀다가 commit 안해도 되니까 git reset --hard HEAD 하면 가장 최근 커밋으로 돌아감

##### Model

```python
#accountApp/models.py
class HelloWorld(models.Model):
    text = models.CharField(max_length=255, null=False)	#null은 공백이여도 되는지
```

- python manage.py makemigrations  (models.py에 쓰는 내용을 DB와 연동시킬 파이썬 파일로 만들어주는 작업)
- python manage.py migrate 해주면 적용됨
- tip) migrations 파일들 지우는거 지양하기 고치려면 복잡해짐

##### HTTP 프로토콜 (GET, POST)

- GET
  - 조회
  - 추가적인 parameter 주소에 같이 보내줌
- POST
  - 무언갈 만들거나 수정할 때
  - 데이터 BODY에 넣어 보냄

##### HTTP 실습

```html
<!-- hello_world.html -->
<form actions="/account/hello_world/" method="post">	
	<input type="submit" class="btn btn-primary" value="POST">
</form>
```

- 첫 줄은 action 주소로 method를 보내겠다 이런뜻
- 이대로 서버 돌려서 버튼 눌러보면 에러뜸

```html
<!-- form 안에 명시해줘야함 -->
{% csrf_token %}
```

- csrf_token은 장고에서 제공하는 보안 기능 중 하나임

```python
#accountApp/views.py
def hello_world(request):
    
    if request.method == "POST":
        return render(request, 'accountApp/hello_world.html', context={'text': 'POST METHOD!'})
	else:
        return render(request, 'accountApp/hello_wolrd.html', context={'text': 'GET METHOD!'})
```

```html
<!-- hello_world.html -->
{{ text }}
```

##### POST 통신을 통한 DB데이터 저장

- 중간 초록색 없애주기(hello_world.html 가서 높이, 배경색 지우기)
- 내용 중간으로 모아주기(text-align: center)

```html
<!-- hello_world.html -->
<h1 style = "font-family: 'lobster', 'cursive';">
	Hello World LIST!                                                 
</h1>
<form action="/account/hello_world/" method="post">
    {% csrf_token %}
    <div>
        <input type="text" name="hello_world_input">
    </div>
    <div>
        <input type="submit" class="btn btn-primary" value="POST">
    </div>
    <h1>
        {{ text }}
    </h1>
</form>
```

```python
#views.py
#hello_world() if문
temp = request.POST.get('hello_world_input')
return render(request, 'accountApp/hello_world.html', context={'text': temp})
```

- 여기까지 하면 통신해서 데이터 긁어오는거함
- 아래서는 그 데이터 저장하는 거까지

```python
#views.py
#hello_world() if문
temp = request.POST.get('hello_world_input')
new_hello_world = HelloWorld()
new_hello_world.text = temp
new_hello_world.save()					  #DB에 저장
return render(request, 'accountApp/hello_world.html', context={'hello_world_output': new_hello_world })	#객체를 보내는거임 따라서 아래에 추가 작업
```

```html
<!-- hello_world.html -->
{% if hello_world_output %}
<h1>
    {{ hello_world_output.text }}
</h1>
{% endif %}
```

##### DB정보 접근 및 for loop

```python
#views.py
#new_hello_world.save() 아래쪽에 추가
#(GET, POST 두 부분 모두 아래 두줄 추가)
hello_world_list = HelloWorld.objects.all()	#HelloWorld의 모든 데이터 긁어옴
return render(request, 'accountApp/hello_world.html', context={'hello_world_list': hello_world_list })
```

- hello_world.html 가서 hello_world_output => hello_world_list로

- 이러고 테스트 해보면 오브젝트 통째로 나옴, 보기 좋게 바꿔주려면 아래처럼 수정

```html
<!-- hello_world.html -->
{% if hello_world_list %}
	{% for hello_world in hello_world_list %}
	<h4>
        {{ hello_world.text }}
	</h4>
	{% endfor %}
{% endif %}
```

- 이러고 테스트 해보면 잘나옴, 근데 F5 누르면 계속 반복해서 쌓임 이거 고쳐주려면

```python
#views.py
#post 완료한 이후 get으로 되돌아가서 이런 상황 발생하지 않기 위해서 해주는 작업
#POST부분 return 아래처럼 바꿔줌
return HttpResponseRedirect('account/hello_world/')
#위처럼 해도 되는데 urls.py에서 이름 저장해놓은거 이용해서 바꿔주면
return HttpResponseRedirect(reverse('accountApp:hello_world'))
#바로 윗줄 이름 부분 :다음 공백 넣었다가 오류 났었음
```

##### 디버깅

- 중단점 설정하고

- Run-EditConfigurations-Templates-python
- Script path => 가상환경 폴더 - Scripts로 정해줌
- Parameters => runserver
- 확인하고 나와서 왼쪽에 manage.py 우클릭,  Debug 'manage' 하면 서버 실행되면서 디버깅 가능
- 서버에서 어떤 이벤트 발생시키면서 중단점 때의 상태 볼 수 있음

##### Class Based View, 장고의 CRUD (이론 위주)

- **C**reate **R**ead **U**pdate **D**elete	=> 장고에선 이 네가지 작업 쉽게 할 수 있는 클래스 제공(CBV)
- CBV <-> FunctionBasedView: 지금까지 만든 함수 기반 뷰
- CBV으로 짜면 생산성, 가독성 좋아짐

![img](https://blog.kakaocdn.net/dn/Kxrs5/btqQPzkuojQ/CEf0O0BhXsh7ao3tfI7EnK/img.png)

- 앞으로 이런 형태의 account앱을 만들거임

##### CreateView를 통한 회원가입 구현

```python
#views.py에 추가
class AccountCreateView(CreateView):
    model = User		#tip) ctrl + b 누르면 그 소스코드로 갈 수 있음
    form_class = UserCreationForm
    success_url = reverse_lazy('accountApp:hello_world')
    template_name = 'accountApp/create.html'
```

- 함수랑 class 불러오는 방식때문에 class에서 reverse()쓰면 에러뜸 그래서 reverse_lazy 써준거

```python
#urls.py - urlpatterns에 추가
path('create/', AccountCreateView.as_view(), name = 'create'),
```

```html
<!-- accountApp-templates-accountApp에 create.html 생성 후 -->
{% extends 'base.html' %}
{% block content %}
	<div style = "text-align: center">
        <form action="{% url 'accountApp:create' %}" method = "post">
            {% csrf_token %}
            {{ form }}
            <input type="submit" class="btn btn-primary">
        </form>
	</div>
{% endblock %}
```

- 서버 키고 테스트 해보기 (127.0.0.1:8000/account/create)

##### Login/ Logout 구현

```python
#url.py - urlpatterns에 추가, login, logout은 간단해서 여기에 직접 선언할거임
path('login/', LoginView.as_view(template_name='accountApp/login.html'), name='login')
path('logout/', LogoutView.as.view(), name='logout' )
```

```html
<!-- accountApp-templates-accountApp에 login.html 생성 -->
{% extends 'base.html' %}
{% block content %}
	<div style="text-align: center">
        <div>
            <h4>
                Login
            </h4>
        </div>
        <div>
            <form action="" method="post">
                {% csrf_token %}
                {{ form }}
                <input type="submit" class="btn btn-primary"
            </form>
        </div>
	</div>
{% endblock %}
```

- 주소/accountApp/login 테스트 해보면 잘 나옴

![img](https://blog.kakaocdn.net/dn/bOIqmA/btqQ0O1Zmba/LmC7e6h8C9tTSTXWx7cDSK/img.png)

- Login View가 이런 과정을 거치는데, 위에까지는 next, login_redirect_url 둘 다 안설정해줘서 아이디랑 비번 쳐보면 Default 값으로 가서 에러났었음, 원치 않는 경로로 가지 않도록 아래에 설정해줄거

```html
<!-- header.html - nav 부분 수정 -->
{% if not user.is_authenticated %}		<!-- login 안되어 잇으면 login 보여줌-->
<a href="{% url 'accountApp:login' %}?next={{ request.path}}">
	<span>login</span>
</a>
{% else %}
<a href="{% url 'accountApp:logout' %}?next={{ request.path}}">
    <span>logout</span>
</a>
{% endif %}
```

- login 이나 logout 완성 하고 난 후 다시 갈 경로 next로 받아줌. get방식으로 받은거

- 이렇게해도 accountApp/login 직접 들어가서 치면 default로 넘어가는데, 이거 방지하려고 이번에는 login_redirect_url 설정해줄거

```python
#pinterest - settings.py에 추가
LOGIN_REDIRECT_URL = reverse_lazy('accountApp:hello_world')
LOGOUT_REDIRECT_URL = reverse_lazy('accountApp:login')
```

##### Bootstrap을 이용한 Form 디자인 정리

- pip install django-bootstrap4

```python
#settings.py - INSTALLED_APPS에 추가
'bootstrap4',
```

```html
<!-- login.html 윗부분에 추가-->
{% load bootstrap4 %}
<!-- {{ form }} 부분 수정-->
{% bootstrap_form form %}
<!-- style 부분에 max-width: 500px; margin: 4rem auto 추가 -->
<!-- btn도 수정해줌 "btn btn-dark rounded-pill col-3 mt-3" -->
```

- mt는 margin-top 이고, mt-3은 기존의 3배
- col-6 같은 경우는 12가 100%고 6이면 50%, 3이면 25%(부모 너비의)

```html
<!-- create.html 위 login.html처럼 수정-->
{% extends 'base.html' %}
{% load bootstrap4 %}

{% block content %}

	<div style="text-align: center; max-width: 500px; margin: 4rem auto">
        <div class="mb-4">
            <h4>
                SignUp
            </h4>
        </div>
        <form action="{% url 'accountApp:create' %}" method="post">
            {% csrf_token %}
            {% bootstrap_form form %}
            <input type="submit" class="btn btn-dark rounded-pill col-6 mt-3">
        </form>
	</div>

{% endblock %}
```

- 이번엔 hello_world 부분 폰트 바꿔줄거
- 글꼴 otf 설치한 후에 압축 풀고 .otf 이름 간단한 것들만 복사해서
- pinterest-static에 fonts 폴더 생성해서 복사한 파일들 붙여넣기

```html
<!-- head.html - </head> 윗부분에 아래와 같은 형식으로 4개 추가 -->
<style>
    @font-face {
        font-family: 'NAME';
        src: local('NAME'),
            url("{% static 'fonts/NAME.otf' %}" format("opentype"))
    }
</style>
```

```html
<!-- base.html <body> 부분 수정 -->
<body style="font-family: 'NAME'">
```

- 이러고 account/hello_world 테스트 해보면 잘 됨

##### DetailView를 이용한 개인 페이지 구현(ReadView부분)

```python
#views 부분 추가
class AccountDetailView(DetailView):
    model = User
    context_object_name = 'target_user'
    template_name = 'accountApp/detail.html'
```

```html
<!-- detail.html 만들어서 -->
{% extends 'base.html' %}
{% block content %}
	<div>
        <div style="text-align: center; max-width: 500px; margin: 4rem auto;">
            <p>
                {{ user.date_joined }}
            </p>
            <h2>
                {{ user.username}}
            </h2>
        </div>
	</div>
{% endblock %}
```

```python
#urls.py - urlpatterns에 추가
path('detail/<int:pk>', AccountDetailView.as_view(), name='detail'),
```

- detail에서 특정 유저의 정보를 봐야하니까 그 계정의 PK가 필요, 그래서 <int: pk> 선언해줌

```html
<!-- header.html - else 아래 추가-->
<a href="{% url 'accountApp: detail' pk=user.pk %}">
	<span>MyPage</span>
</a>
```

- 테스트 해보면 logout 상태에서 Mypage안보이고 login 상태면 Mypage 보임
- 접속한 유저의 페이지만 볼 수 있으니까 좀 수정해주면

```python
#views.py - AccountDetailView() 부분에 추가
context_object_name = 'target_user'
```

- detail.html의 user 부분 target_user로 수정

- 이렇게해서 다른사람이 내 페이지 왔을때 내 페이지 보여줄 수 있음

##### UpdateView를 이용한 비밀번호 변경 구현

```python
#views.py에 추가
class AccountUdateView(UpdateView):
    model = User
    form_class = UserCreationForm
    context_object_name = 'target_user'
    success_url = reverse_lazy('accountApp:hello_world')
    template_name = 'accountApp/update.html'
```

```python
#url.py - urlpatterns에 추가
path('update/<int:pk', AccountUpdateView.as_view(), name='update')
```

```html
<!-- update.html 생성 후 -->
{% extends 'base.html' %}
{% load bootstrap4 %}

{% block content %}

	<div style="text-align: center; max-width: 500px; margin: 4rem auto">
        <div class="mb-4">
            <h4>
                Change Info
            </h4>
        </div>
        <form action="{% url 'accountApp:update' target_user.pk%}" method="post">
            {% csrf_token %}
            {% bootstrap_form form %}
            <input type="submit" class="btn btn-dark rounded-pill col-6 mt-3">
        </form>
	</div>

{% endblock %}
```

```html
<!-- detail html 수정 -->
{% extends 'base.html' %}
{% block content %}
	<div>
        <div style="text-align: center; max-width: 500px; margin: 4rem auto;">
            <p>
                {{ target_user.date_joined }}
            </p>
            <h2>
                {{ target_user.username}}
            </h2>
            
            {% if target_user == user %}
            <a href="{% url 'accountApp:update' pk=target_user.pk %}">
                <p>
                    Change Info
                </p>
            </a>
            {% endif %}
        </div>
	</div>
{% endblock %}
```

- 이러고 account/detail/1 테스트 해보면 ChangeInfo 나옴, 그거 누르면 바꿀수있음
- 문제: 아이디 바꿔서 비번 바꾸면 아이디도 바뀜. 따라서 Username칸 비활성화 시켜줘야함

```python
#accountApp(부모) - forms.py 생성
from django.contrib.auth.forms import UserCreationForm
class AccountUpdateForm(UserCreationForm):	#상속 받아줌
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        
        self.fields['username'].disabled = True
```

- 상속 받아서 UserCreationForm = AccountUpdateForm 인데, 마지막줄 추가시켜줘서 초기화 이후에 저 값을 바꿔줌(username 칸을 비활성화 시켜줌) 이런식으로 커스터마이징함

```python
#views.py - AccountUpdateView() 부분 수정
form_class = AccountUpdateForm
```

##### DeleteView 기반 회원 탈퇴 구현

```python
#views.py에 추가
class AccountdeleteView(DeleteView):
    model = User
    context_object_name = 'target_user'
    success_url = reverse_lazy('accountApp:login')
    template_name = 'accountApp/delete.html'
```

```python
#url.py - urlpatterns에 추가
path('delete/<int:pk>', AccountDeleteView.as_view(), name='delete')
```

```html
<!-- delete.html 생성 후 -->
{% extends 'base.html' %}

{% block content %}

<div style="text-align: center; max-width: 500px; margin: 4rem auto">
    <div class="mb-4">
        <h4>
            Quit
        </h4>
    </div>
    <form action="{% url 'accountApp:delete' target_user.pk %}" method="post">
        {% csrf_token %}
        <input type="submit" class="btn btn-danger rounded-pill col-6 mt-3">
    </form>
</div>

{% endblock %}
```

```html
<!-- detail.html 에서 Change Info아래부분에 나타나게 추가-->
<a href="{% url 'accountApp:delete' pk=target_user.pk %}">
	<p>
    	Quit
    </p>
</a>
```

- tip] 저 위에 btn 이런건 bootstrap 홈페이지에 검색해보면 다 나옴

- 이러고 테스트 해보면 아이디 삭제시킬 수 있음

```html
<!-- header.html 부분 SingUp 안만들어서 login밑에 보강해주기 -->
<a href="{% url 'accountApp:create' %}">
	<span>SignUp</span>
</a>
```

##### Bug FIx

- .html - pk=user.pk 이거 pk=target_user.pk로 바꿔줌
- .views.py에 context_object_name = 'target_user' 추가

```python
#config - urls.py - urlpatterns 부분 수정
paht('accounts/', include('accountApp.urls')),
```

##### Authentication 인증시스템 구축 

```python
#views.py - hello_world() 부분에 인증과정 넣을거임
if request.user.is_authenticated:
#    if request.method == "POST": ~
else:
    HttpResponseRedirect(reverse('accountApp:login'))
```

- accounts/hello_world 테스트 해보면 로그인 되어있지 않으면 로그인창으로 가고,
- 로그인하고 위 주소로 가면 hello_world 잘 뜸

- 근데 주소에 accounts/update/1 이런식으로 치면 다른 계정 들어갈 수 있음 이거 로그인 해서 들어갔을때만 가능하도록 바꿔줄거임

- 그냥 로그인해서 들어가도록만 고쳐주면 내 아이디로 로그인하고 저런식으로 다른사람거 들어갈수도 있음 이것도 고쳐줘야함( self.get_object() == self.request.user 부분)

```python
#views.py - AccountUpdateView(), AccountDeleteView() 아래 부분에 추가
def get(self, *args, **kwargs):
    if self.request.user.is_authenticated and self.get_object() == self.request.user:
        return super().get(*args, **kwargs)
    else:
        return HttpResponseForbidden()
    
def post(self, *args, **kwargs):
    if self.request.user.is_authenticated and self.get_object() == self.request.user:
        return super().get(*args, **kwargs)
    else:
        return HttpResponseForbidden()
```

##### Decorator를 이용한 코드 간소화

![img](https://blog.kakaocdn.net/dn/Ua6fG/btqRavOILyI/kk9nTLK4UsBRAN63GGelZK/img.png)

- 이런 Decorator를 사용해서 더 깔끔하게 고쳐줄거임

```python
#views.py - import구문 아래에 추가
@login_required		#이거 추가하고 바로 전 hello_world() 수정했던 if-else문 지워줌
#AccountUpdateView()는 class이고, 안에 함수 메서드 이므로 좀 다르게 선언함
#AccountUpdateView(), AccountDeleteview위에 선언
@method_decorator(login_required, 'get')
@method_decorator(login_required, 'post')
@method_decorator(account_ownership_required, 'get')
@method_decorator(account_ownership_required, 'post')
```

```python
#accountApp(부모) - decorators.py 생성
def account_ownership_required(func):
    def decorated(request, *args, **kwargs):
        user = User.objects.get(pk=kwargs['pk'])
        if not user == request.user:
            return HttpResopnseForbidden()
        return func(request, *args, **kwargs)
    return decorated
```

- 이렇게 할 수 잇는데 이번엔 method_decorator가 너무 많으니까 이거도 좀 수정해주자

```python
#views.py - import 아래쪽에
has_ownership = [account_ownership_required, login_required]
#method 부분 수정
@method_decorator(has_ownership, 'get')
@method_decorator(has_ownership, 'post')
```

- 이런식으로 배열 만들어서 줄여줄 수 있음

##### superuser, media 관련 설정(셋팅)

- python manage.py createsuperuser해서 username, password 설정
- 그 후 서버 켜서 /admin가서 로그인 해보면 접속 됨. 여기서 나머지 계정 싹 지워놓으래

```python
#config - settings.py에 추가
MEDIA_URL = '/media/'		#이 URL 개인적으로 커스터마이징 가능
MEDIA_ROOT = os.path.join(BASE_DIR, 'media')
```

- MEDIA_URL: 주소창에 media/ 이하의 경로로 접근을 해야 실제 미디어 파일에 접근 가능하단 뜻
- MEDIA_ROOT: 미디어파일 서버에 올렸을 때, 어느 경로에 저장 될 것인지
- 이미지 관리할 라이브러리 설치 pip install pillow

##### Profileapp 시작

- 닉네임, 이미지, 메세지 기능 넣을거임
- Account, Profile 1:1로 매칭 시킬거, 따라서 detail, delete 뷰 따로 구현 안할거

- python manage.py startapp profileApp

- settings.py - INSTALLED_APPS에 'profileApp', 추가

- pinterest - urls.py - urlpatterns에 path('profiles/', include('profileApp.urls')), 추가

```python
#profileApp - urls.py 생성
app_name = 'profileApp'
urlpatterns = [
    
]
```

```python
#profileApp - models.py
class Profile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE, related_name='profile')	
    image = models.ImageField(upload_to='profile/', null=True)	
    nickname = models.CharField(max_length=20, unique=True, null=True)
    message = models.CharField(max_length=100, null=True)
```

- OneToOneField(): User객체랑 1:1연결
- on_delete=models.CASCADE: 걔 삭제시 얘도 삭제
- related_name: request.user.profile 이런식으로 바로 사용할 수 있도록

- upload_to: media 밑 profile/로 저장
- null=True: 이미지 없어도 됨

- unique: 중복 안됨~

##### ModelForm

- accountApp에서 UserCreationForm은 그냥 장고에서 기본 제공해주는 form이라 그냥 사용했던거고, 다른 앱들 기능은 보통 form 제공 안해줌
- ModelForm은 기존에 있던 모델을 그대로 form으로 변환해주는 기능

```python
#profileApp - forms.py 생성 후
class ProfileCreationForm(ModelForm):
    class Meta:
        model = Profile
        fields = ['image', 'nickname', 'message']
```

##### profileApp - CreateView 구현

- python magage.py makemigrations
- python manage.py migrate 해서 모델 적용 시켜줌

```python
#profileApp - views.py
class ProfileCreateView(CreateView):
    model = Profile
    context_object_name = 'target_profile'
    form_class = ProfileCreationForm
    success_url = reverse_lazy('accountApp:hello_world')
    template_name = 'profileApp/create.html'
```

- profileApp에 templates 폴더 만들고 그 안에 profileApp 폴더 만들어줌
- create.html 만들건데 accountApp-create.html이랑 거의 비슷하므로 복사해서 가져와줌
- 요청 url profileApp으로 바꾸고 화면에 나타나는거 Profile Create로 바꿔줌
- profileApp - urls.py에 urlpatterns에 path('create/',ProfileCreateView.as_view(), name='create')로 추가해줌
- profiles/create로 테스트 해보면 잘 나옴
- 이번엔 create로 갈 수 있는 경로를 만들어줄거임

```html
<!-- accountApp - detail.html </p>아래 부분 수정-->
{% if target_user.profile %}
<h2 style="font-family: 'FONTNAME'">
    {{ target_user.profile.nickname }}
</h2>
{% else %}
<a href="{% url 'profileApp:create' %}">
	<h2 style="font-family: ''">
        Create Profile
    </h2>
</a>
{% end if %}
```

- 이러고 create 테스트 해보면 파일 안넣었다고 오류뜸
- create.html - form 부분에 enctype="multipart/form-data" 추가해줌
- 그러고 다시 테스트해보면 profile.user_id 없다고 오류뜸

```python
#views-py ProfileCreateView() 부분에 메서드 추가
def form_valid(self, form):
    temp_profile = form.save(commit=False)	#DB저장하지 않고 임시로 저장
    temp_profile.user = self.request.user
    temp_profile.save()
    return super().form_valid(form)
```

- 이렇게 하면 해결 됨

```python
#views.py에 추가
class ProfileUpdateView(UpdateView):
    model = Profile
    context_object_name = 'target_profile'
    form_class = ProfileCreationForm
    usccess_url = reverse_lazy('accountApp:hello_world')
    template_name = 'profileApp/update.html'
```

- url - urlpatterns에 path 추가, 어떤 프로필에 접근하는지 알야아하니 pk도 추가

```html
<!-- update.html 생성 -->
{% extends 'base.html' %}
{% load bootstrap4 %}

{% block content %}
	<div>
        <div class="mb-4">
            <h4>
                Update Profile
            </h4>
        </div>
        <form action="{% url 'profileApp:update' pk=target_profile.pk %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {% bootstrap_form form %}
            <input type="submit" class="btn btn-dark rounded-pill col-6 mt-3">
        </form>
	</div>
{% endblock %}
```

```html
<!-- detail.html 닉네임 바꾸고플때 update로 라우팅해줄 앵커 태그 삽입 -->
<!-- h2 {{ target_user.profile.nickname }} 아래 추가-->
<a href="{% url 'profileApp:update' pk=target_user.profile.pk %}">
	edit
</a>
```

- 하고 accounts/detail 가보면 edit 뜸 누르면 바꿀 수 있는 곳 들어가짐

- 이번엔 그 이미지 화면에 띄우게끔 만들거임

- detail.html </p> 아래에 <img src="{{ target_user.profile.image.url }} alt="" style="height: 12rem; width 12rem; border-radius: 20rem; margin-bottom: 2rem;"> 추가

```python
#pinterest - urls.py
from django.conf.urls.static import static
from django.conf import settings
#urlpatterns 끝에 추가
] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```

- 이러고 /detail 테스트 해보면 잘 나옴
- 이번엔 대화명 나타낼거

```html
<!-- detail.html - {% endif %}아래에 추가 -->
<h5 style="margin-bottom:3rem;">
    {{ target_user_profile.message }}
</h5>
```

```python
#profileApp - decorators.py 생성 후 decorator 설정해줄거임
def profile_ownership_required(func):
    def decorated(request, *args, **kwargs):
        profile = Profile.objeects.get(pk=kwargs['pk'])
        if not profile.user == request.user:
            return HttpResponseForbidden()
        return func(request, *args, **kwargs)
    return decorated
```

- views.py - ProfileUpdateView() 위에 @method_decorator(profile_ownership_required, 'get'), (+'post'도) 추가

##### get_success_url 그리고 리팩토링

- views.py - ProfileCreateView() - success_url 부분 'accountApp: detail' 로 수정 하려함.(이곳으로 가는게 더 알맞음)
- 근데 위처럼 그냥 수정해주면 urls.py - detail부분 보면 pk도 같이 넘겨줘야함 따라서 아래처럼 내부 메소드 수정해줘야함

```python
#views.py - ProfileCreateView(), ProfileUpdateView()에 추가 
def get_success_url(self):
    return reverse('accountApp:detail', kwargs={'pk': self.object.user.pk})
```

- self.object ==> profile 가리킴 거기의 user의 pk를 찾아서 넘겨줌

- detail가서 edit하는거 테스트 해보면 프로필 수정해도 원래대로 돌아옴
- 이번엔 logout해도 edit 나오는거 고쳐줄거임

```html
<!-- detail.html 33강 5분~ 직접 해보고 코드 붙여넣기 -->
```

- +프로필 설정 안되어있는 다른 사람 화면 갔을 때 <h2>닉네임 미설정</h2> 이런거라도 띄어주기

##### MagicGrid 소개 및 ArticleApp 시작

- [MagicGrid](https://github.com/e-oj/Magic-Grid): 게시글 리스팅 해줄 때 핀터레스트를 따올 카드형 레이아웃을 만들어줄 자바스크립트 라이브러리임
- 깃허브 가서 on JSFIDDLE 링크 누르면 실제로 어떻게 되는지 골라볼 수 있음

- python manage.py articleApp
- config-settings 에 'articleApp', 추가
- cofing-url.py에 path 추가

```python
#articleApp - url.py
urlpatterns=[
    path('list/', TemplateView.as_view(template_name='articleApp/list.html'), name='list')
]
```

- articleApp에 templates - articleApp 폴더 만듦

```html
<!-- list.html -->
{% extends 'base.html' %}

{% block content %}
<style>
<!-- css 복붙 -->
</style>
<!-- HTML 복붙 -->
<script src="{% static 'js/magicgrid.js' %}">
</script>
{% endblock %}
```

- 위 코드 위에 {% load static %} 선언해주기
- 추가로  [MagicGrid](https://github.com/e-oj/Magic-Grid) - dist 들어가서 .js 파일 들어가서 내용 복사
- static - js 폴더 만들고 magicgrid.js 만들고 내용 복붙, 마지막 줄 module.exports 이거 지움
- 추가로 magicgrid - script 부분 추가해넣기

- articles/list 테스트 해보면 잘 나옴

- 이제 이거로 커스터마이징 할거임(34강 - 9:05~)

##### ArticleApp CRUD 마무리

```python
#articleApp - models.py
class Article(model.Model):
    writer = models.ForeignKey(User, on_delete=models.SET_NULL, related_name='article', null=True)
    title = models.CharField(max_length=200, null=True)
    image = models.ImageField(upload_to='article/', null=False)
    content = models.TextField(null=True)
    
    created_at = models.DateField(auto_created=True, null=True)
```

- SET_NULL로 글 쓴사람이 아이디 삭제해도 남아있게
- auto_created=True 자동으로 생성 됐을 때 값(시간) 설정되게

```python
#articleApp - forms.py
class AritcleCreationForm(ModelForm):
    class Meta:
        model = Article
        fields = ['title', 'image', 'content']
```

- python manage.py makemigrations
- python manage.py migrate

```python
#article - views.py
@method_decorator(login_required, 'get')
@method_decorator(login_required, 'post')
class ArticleCreateView(CreateView):
    model = Article
    form_class = ArticleCreationForm
    template_name = 'articleApp/create.html'
    def form_valid(self, form):
        temp_article = form.save(commit=False)
        temp_article.writer = self.request.user
        temp_article.save()
        return super().form_valid(form)
    def get_success_url(self):
        return reverse('articleApp:detail', kwargs={'pk' self.object.pk})
  
class ArticleDetailView(DetailView):
    model = Article
    context_object_name = 'target_article'
    template_name = 'articleApp/detail.html'
```

- articleApp - templates - articleApp - create.html 전에 만든 create.html 복붙해서 SignUp을 Article Create로 바꿔주고
- \<form action="{% url 'articleApp:create' %}" method="post" enctype='multipart/form-data'\>

```html
<!-- detail.html 만들어서 -->
{% extends 'base.html' %}

{% block content %}
<div>
    <div style="...">
        <h1>
            {{ target_article.title }}
        </h1>
        <img src="{{ target_article.image.url }}" alt="">
        
        <p>
            {{ target_article.content }}
        </p>
    </div>
</div>
```

```html
<!-- pinterest - templates - header.html 부분에 nav1 부분 수정 -->
<a href="{% url 'articleApp:lst' %}">
	<span>Articles</span>
</a>
```

```html
<!-- list.html - <scrpt> 윗 부분에 추가 -->
<div style="text-align: center">
    <a href="{% url 'articleApp:create' %}" class="btn btn-dark rounded-pill col-3 mt-3 mb-3">
    	Create Article
    </a>
</div>
```

```python
#articleApp - urls.py
app_name = 'articleApp'
urlpatterns = [
    path('list/', TemplateView.as_view(template_name='articleApp/list.html', name='list'))
    path('create/', TemplateView.as_view(), name='create')
    path('detail/<int:pk>', TemplateView.as_view(), name='detail')
]
```

- articles/list 테스트 해보면 잘 나옴

```python
#articles - views.py에 추가
@method_decorator(article_ownership_required, 'get')
@method_decorator(article_ownership_required, 'post')
class ArticleUpdateView(UpdateView):
    model = Article
    context_object_name = 'target_article'
    form_class = ArticleCreationForm
    template_name = 'articleApp/update.html'
    
    def get_success_url(self):
        return reverse('articleApp:detail', kwargs={'pk': self.object.pk})
```

```python
#articles - decorators.py
def article_ownership_required(func):
    def decorated(request, *args, **kwargs):
        article = Article.objects.get(pk=kwargs['pk'])
        if not article.writer == request.user:
            return HttpResponseForbidden()
        return func(request, *args, **kwargs)
    return decorated
```

```html
<!-- detail.html 맨 아래에 나타나도록 하는 위치에 -->
<a href="{% url 'articleApp:update' pk=target_article.pk %}">
	<p>
        Update Article
    </p>
</a>
```

- 이러고 urls.py에 path('update/\<int:pk\>', ArticleUpdateView.as_view(), name='update'), 추가

```html
<!-- update.html 생성 후 -->
{% extends 'base.html' %}
{% load bootstrap4 %}
{% block content %}
<div>
    <div style="...">
        <h4>
            Article Update
        </h4>
    </div>
    <form action="{% url 'articleApp:create' %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {% bootstrap_form form %}
        <input type="submit" class="btn btn-dark rounded-pill col-6 mt-3"
    </form>
</div>
{% endblock %}
```

- 이러고 업데이트 해주는거 테스트(article/detail 에서 Update Article 누르고 진행) 해보면 잘 수정되는거 볼 수 있음

- 이번엔 deleteView 만들거임

```python
#views.py 에 추가
@method_decorator(article_ownership_required, 'get')
@method_decorator(article_ownership_required, 'post')
class ArticleDeleteView(DeleteView):
    model = Article
    context_object_name = 'target_article'
    success_url = reverse_lazy('articleApp:list')
    template_name = 'articleApp/delete.html'
```

```html
<!-- delete.html 생성 후 -->
<!-- delete.html 생성 후 -->
{% extends 'base.html' %}

{% block content %}

<div style="text-align: center; max-width: 500px; margin: 4rem auto">
    <div class="mb-4">
        <h4>
            Delete Article: {{ target_article.title }}
        </h4>
    </div>
    <form action="{% url 'accountApp:delete' target_article.pk %}" method="post">
        {% csrf_token %}
        <input type="submit" class="btn btn-danger rounded-pill col-6 mt-3">
    </form>
</div>

{% endblock %}
```

```html
<!-- detail.html 맨 아래 나오게끔 추가 -->
<a href="{% url 'articleApp:delete' pk=target_article.pk %}">
	<p>
        Delete Article
    </p>
</a>
```

- url.py 에 path('delete/\<int:pk\>', ArticleDeleteView.as_view(), name='delete'), 추가

- 이렇게해서 삭제해보는거 test 해보기~

- 잘되면 .gitignore에 media/ 추가해서 커밋~

##### ListView, Pagination 적용

- Pagination: 페이지의 객체를 생성한다라고 생각하면 됨 ex) google-1,2,3,4 이렇게 페이지 형식
- cf) Infinite Scroll: 무한 스크롤 ex) facebook

```python
#articleApp - views.py에 추가
class ArticleListView(ListView):
    model = Article
    context_object_name = 'article_list'
    template_name = 'articleApp/list.html'
    paginate_by = 25
```

```python
#urls.py - urlpatterns에서 수정
path('list/' ArticleListView.as_view(), name='list'),
```

```html
<!-- list.html </style> 아래 수정 -->
{% if article_list %}
<div class="container">
    {% for article in article_list %}
    <a href="{% url 'articleApp:detail' pk=article.pk %}">
    	{% include 'snippets/card.html' with article=article %}
    </a>
    {% endfor %}
</div>
<script src="{% static 'js/magicgrid.js' %}"></script>
{% else %}
<div class="text-center">
    <h1>
        No Articles YET!
    </h1>
</div>
{% endif %}
<div style="text-align: center">
    <a href="{% url 'articleApp:create' %}" class='btn btn-dark rounded-pill col-3 mt-3 mb-3 '>
    	Create Article
    </a>
</div>
```

- with 구문 사용해서 card.html에 쓰일 article이 위에 for 문으로 돌리는 article과 같다는 뜻

```html
<!-- article - templates - snippets 폴더 생성 후 card.html 생성 -->
<div>
    <img
</div>
```

- 이러고 articles/list 테스트 해보고, 게시글 만들어서 테스트 해보기, 또 글 많이 넣어가지고 페이지네이션 잘되나 확인해보기(views.py - ArticleListView() - paginate_by 수 줄이면 좀 더 쉽게 가능)

- 이제 그 숫자로 페이지 옮길 수 있게 만들어줄거

- list.html {% endif %} 다음에 {% include 'snippets/pagination.html' with page_obj=page_obj %} 추가

```html
<!-- snippets - pagination.html 생성 후--> 
<div style="text-align: center; margin: 1rem 0;">
    {% if page_obj.has_previous %}
    <a href="{% url 'articleApp:list' %}?page={{ page_obj.previous_page_number }}" class="btn btn-secondary rounded-pill">
    	{{ page_obj.previous_page_number}}
    </a>
    {% endif %}
    <a href="{% url 'articleApp:list' %}?page={{ page_obj.number }}" class="btn btn-secondary rounded-pill active">
        {{ page_obj.number}}
    </a>
    {% if page_obj.has_next %}
    <a href="{% url 'articleApp:list' %}?page={{ page_obj.next_page_number }}" class="btn btn-secondary rounded-pill">
    	{{ page_obj.next_page_number}}
    </a>
    {% endif %}
</div>
```

- page_obj.has_previous: 이전페이지가 있는지
- 있으면 이전 페이지로 넘어가는 링크 만들어줌
- {% endif %}다음은 현재 있는 페이지를 향하는 링크
- page_obj.has_next: 다음페이지가 있는지
- 있으면 다음페이지로 넘어가는 링크(숫자) 만들어줌

- 이러고 페이지 번호 눌러가며 테스트(articles/list) 해보면 잘 됨
- 다음은 코멘트앱 만들거, 디테일뷰 제일 아래 만들거라 디자인 정리좀 해줄거

```html
<!-- detail.html 곳곳 찾아가며 수정 -->
max-width: 700px;

<h5>
    {{ target_article.writer.profile.nickname }}
</h5>
<hr>
<img style="width: 100%; border-radius:1rem; margin: 2rem 0;" src="{{ target_article.image.url }}" alt="">

<!-- Update Article, Delete Article 인증작업 추가 -->
{% if target_article.writer == user %}
<a href="{% url 'articleApp:update' pk=target_article.pk %}" class="btn btn-primary rounded-pill col-3">
	Update
</a>
<a href="{% url 'articleApp:delete' pk=target_article.pk %}" class="btn btn-primary rounded-pill col-3">
	Delete
</a>
{% endif %}
<hr>
```

- 해보고 테스트 해보고 잘 되면 커밋~