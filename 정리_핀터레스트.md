##### 핀터레스트를 만들겁니다.

- 글, 마이페이지, 반응형, 댓글, 팔로우, 구독, ... 등등 만들 예정
- 프론트엔드 - JS, HTML, CSS
- 백엔드 - NGINX(서버), django(프레임워크), docker(배포), 마리아(DB)

![img](https://blog.kakaocdn.net/dn/QERpw/btqQjob2AmK/HcvryVTiY0UMJHatNagaK1/img.png)

요렇게 만들면 이 장고 서비스 하나가 도커 - 하나의 컨테이너가 됨

![img](https://blog.kakaocdn.net/dn/UusRc/btqQhK7v2Tj/iJI2d2Itn3qO2ixoNZNiT1/img.png)

이렇게 집어넣어줌. 이런식으로 각각의 컨테이너를 구축해서 도커 시스템으로 구축

마지막에 VULTR 라는 가상 서버 빌린 후 구축한 도커 시스템 올려서 서비스를 배포 해볼거에요!



##### 개발환경 셋업

==> [점프투장고](https://wikidocs.net/72377) 참조하기, 이건 가상환경 가서 django같은거 설치하고 플젝 생성이고

아래건 실제 환경에 django 설치하고 추가한거(이건 venv(가상환경)가 플젝 파일에 자동으로 생성)

- mkdir NAME
- cd NAME
- django-admin startproject config . 
- 그 플젝 열고 인터프리터 가서 add 하고 ok 눌러주면 새로운 가상환경 추가됨

##### MVC(Model View Controller)

- 애플에서 만든 개발 패턴인데 장고는 여기서 controller대신 template으로 (거의 명칭만 다름)

- Model: DB관련
- View: 유저-서버 통신(인증, 계산, 확인 등)
- Template: 인터페이스
- template <-> view <-> model

##### Acoount

- 터미널 들어가서 (ctrl + shift + tap + t)
- python manage.py startapp accountApp
- project/settings.py 에서 installed_apps 에서 'accountApp' 매핑 시켜줌

```python
#accountApp/views.py
def hello_world(request):
    return HttpResponse('Hello world')	#Alt + Enter 누르면 자동으로 import해줌 개꿀
```

```python
#project/urls.py
path('account/', include('accountApp.urls'))	#이거 추가해서 매핑시켜줌
```

```python
#accountApp/urls.py
app_name = 'accountApp'		#이렇게 해두면 나중에 함수써서 쉽게 호출가능
urlpatterns = [
    path('hello_world/', hello_world, name='hello_world')
]
```

##### git ignore(7강 참고)

- project - .gitignore 파일 만들고 [요기](https://github.com/github/gitignore/blob/master/Global/JetBrains.gitignore)에서 복붙 해넣으면 필요없는거 추적 안함

- config/settings.py 에 secret_key 관리해줘야하는데, [요기](https://django-environ.readthedocs.io/en/latest/)서 secret_key 노출 안시키고 내부 파일에서 자동으로 읽어서 개선해줄 수 있음
- 위 사이트에서 하란대로 하면 됨 pip install dajngo-environ

```python
#settings
import environ
env = environ.Env(
    # set casting, default value
    DEBUG=(bool, False)
)
```

- .env 파일 만들어서

```python
#.env
DEBUG=on
SECRET_KEY=your-secret-key			#이부분 settings에 있는 내 secret_key 입력(''x)
DATABASE_URL=psql://urser:un-githubbedpassword@127.0.0.1:8458/database
SQLITE_URL=sqlite:///my-local-sqlite.db
CACHE_URL=memcache://127.0.0.1:11211,127.0.0.1:11212,127.0.0.1:11213
REDIS_URL=rediscache://127.0.0.1:6379/1?client_class=django_redis.client.DefaultClient&password=ungithubbed-secret
```

```python
#settings
import os
#BASE_DIR아래쪽에
environ.Env.read_env(
    env_file = os.path.join(BASE_DIR, '.env')
)
```

```python
#settings 가서 이렇게 수정하고
SECRET_KEY = env('SECRET_KEY')
#.gitignore 가서
.env 	#라고 추가해주면 추적 안됨
```

- VCS - Enable Version control integration 누르고 git 누르면 추적 되는거 안되는거 구분 됨
- git status 해가면서 필요 없는거 추가해주면 됨 (Ex. .idea/)

```python
#.gitignore
.env
db.sqlite3
.idea/
__pycache__/
#가상환경 python에서 그냥 만들었으면 venv/ 추가
```

##### template

- extends: 바탕을 깔아주는 느낌

![img](https://blog.kakaocdn.net/dn/UrTQz/btqQu4dP7X7/AaEjIiB1hKj30qnZNmQq10/img.png)

- include: 뭔가를 가져와서 갖다 붙이는 느낌

![img](https://blog.kakaocdn.net/dn/xe51n/btqQmQujZen/SDdFPPj7v0c3ExWZIsZb9K/img.png)

![img](https://blog.kakaocdn.net/dn/bKaDgC/btqQu5cHWuy/XYg7Z1reb2rjmkzFwBCEIk/img.png)

- project 폴더에 templates 폴더 생성, 그 안에 base.html 생성

- views.py에서 html파일(템플릿) 가지고 와서 그 내용 채워넣는 형식으로 만들거임

```python
#views.py
def hello_world(request):
    return render(request, 'base.html')
```

```python
#config/settings.py 에 매핑 해줘야함
TEMPLATES = [
    {
        'DIR': [os.path.join(BASE_DIR, 'templates')],
    }
]
```

- templates파일에 head.html 생성

```html
<!DOCTYPE html>
<html lang="ko">
    
{% include 'head.html' %}
<body>
    <!-- border-radius: 블럭의 가장자리, margin: 컴포넌트 사이 마진?-->
    <div style='height: 10rem; background-color: #38df81; border-radius: 1rem; margin: 2rem'> 
    </div>
    
    <div style='height: 20rem; background-color: #38df81; border-radius: 1rem; margin: 2rem'> 
    </div>
    
    <div style='height: 10rem; background-color: #38df81; border-radius: 1rem; margin: 2rem'> 
    </div>
    </body>
</html>
```

- ##### Tip] 알트 누르고 커서 여러개 클릭하면 다중커서 조절 가능!!

- 서버 켜서 어떻게 되었나 한번 확인해보기

- 여기 body에서 3개 부분이 있는데 첫부분, 세번째 부분은 계속 사용할거므로 include 구문 사용해서 만들어줌

```html
<!-- header.html, footer.html 만들고 아래처럼 include하면 똑같이 쓸수있음-->
<body>
	{% include 'header.html' %}
    {% block content %}
    {% endblock %}
    {% include 'footer.html' %}
</body>
```

- content부분 accountApp 내부에서 사용할거임, 이제 그거 사용하기 위해
- accountApp 폴더에 templates 폴더 만들고, 그 안에 accountApp 폴더 만들어줌
- 그 안에다가 .html 파일 만들어줄거, 저거 폴더 많이 만드는 이유는 나중에 가져오는 코드 짤때 가독성 높이기 위해서래
- hello_wolrd.html 만들고 

```html
<!--아래처럼 하면 base.html 내용 다 가져오는데 block만 바꿀 수 있음-->
{% extends 'base.html' %}	

<!-- 아래처럼 내용 쓰면 렌더링 하게 됨-->
{% block content %}
	<div>
        <h1>
            test1
        </h1>
	</div>
{% endblock %}
```

```python
#config/views.py
def hello_world(request):
    return render(request, 'accountapp/hello_world.html')
```

##### style

- 윗 부분을 꾸며봅시다~

```html
<!--header.html-->
<div>
    <div>
        <h1>pinterest</h1>
    </div>
    <div>
        <span>nav1</span>
        <span>nav2</span>
        <span>nav3</span>
        <span>nav4</span>
    </div>
</div>
```

- 이거 하고 서버 키고 들어가보면 왼쪽에 가있는데 F12 눌러서 테스트 해볼 수 있음
- div쪽 누르고 오른쪽 style 부분에 text-align: cneter; 이런식으로 테스트 가능
- 이번엔 밑 부분을 꾸며봅시다~

```html
<!--footer.html-->
<div style="text-align:center; margin-top: 2rem;">
    <div style="font-size: .6rem;">
        <span>공지사항</span> |
        <span>제휴문의</span> |
        <span>서비스 소개</span>
    </div>
    <div style="margin-top: 1rem;">
        <h6 style="margin-top: 1rem;">pinterest</h6>
    </div>
</div>
```

- margin: 2rem 0; 이러면 앞에 숫자는 상하, 뒤에 숫자는 좌우
- base.html <body>에 위, 중간, 아래 사이에 <hr> 구분선 넣어주면 더 이뻐짐

##### bootstrap

- 들어가서 css 복사 한 후에 head.html <head>쪽에 넣어줌

- Tip) ctrl + / 하면 주석
- 구글 폰트 검색해서 글자 써보고 이뻐보이는 폰트 고르면 됨 select this style 누르면 링크 뜨는데 head.html 파일에 복붙해주면 됨(이런거 적용하면서 어떤건지 주석 달기)
- font-family~ 복사해서 적용할 곳에 붙여넣기 해넣어주면 끝

##### CSS파일 분리

- 보통 html에 뼈대만 남겨두고 style 같은거(디자인적인거) css로 빼줌
- static 설정 해볼거

```python
#setting.py
STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')	#나중에 python manage.py collectstatic 하면 static 파일 모아주는데 그 모아주는 위치임
STATICFILES_DIRS = [
    BASE_DIR / "static",
]
#이러고 프로젝트 폴더에 static 폴더 만들어줌 여기서 static 파일들 관리할거
```

- tip) ctrl + b 하면 선언된 곳 찾아줌
- static에서 base.css 생성

```html
<!-- footer.html -->
<!-- 수정 -->
<h6 class="pinterest_footer_logo">pinterest</h6>
```

```css
/* base.css */
.pinterest_footer_logo{
    font-family: 'Lobster', cursive;
}
```

```html
<!-- head.html -->
{% load static %}	<!-- 맨 위에 -->

<!-- DEFAULT CSS LINK -->
<link rel="stylesheet" type="text/css" href="{% static 'base.css'%}">
```

```python
#settings.py
STATIC_URL = 'head.html'
```

- 추가로 style => class로 바꿔서 base.css로 넘겨주는거 11강_13분~

##### CSS 핵심

- display

  - block
    - 부모의 최대한의 너비 가지고 블록 모양으로 있는 애
  - Inline
    - 글씨의 높이만큼
  - Inline-block
    -  블록인데 inline처럼 안쪽부터 쌓이는 블록
  - None
    - 없어요

- visibility

  - hidden
    - display가 만약 None으로 바뀌면 빈곳  채워 넣는데 visibility-hidden이면 보이진 않지만 존재함 다른거 그대로

- size

  :Respnsive 즉, 반응형으로 만들어야 하므로 size 중요

  - px
    - 부모에 상관없이 픽셀 크기만큼
  - em
    - 부모가 커지면 그만큼 자기도 커짐
    - 근데 부모가 여러개 있을 때 문제 (Ex.할아버지가 2배, 부모 2배 되면 자신은 4배 됨)
  - <u>rem</u>
    - 부모에 상관없이 root HTML의 사이즈에 따라 바뀜

  - %
    - 바로 위의 부모만 따라감 