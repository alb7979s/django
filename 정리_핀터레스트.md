##### 핀터레스트를 만들겁니다.

- 글, 마이페이지, 반응형, 댓글, 팔로우, 구독, ... 등등 만들 예정
- 프론트엔드 - JS, HTML, CSS
- 백엔드 - NGINX(서버), django(프레임워크), docker(배포), 마리아(DB)

![img](https://blog.kakaocdn.net/dn/QERpw/btqQjob2AmK/HcvryVTiY0UMJHatNagaK1/img.png)

요렇게 만들면 이 장고 서비스 하나가 도커 - 하나의 컨테이너가 됨

![img](https://blog.kakaocdn.net/dn/UusRc/btqQhK7v2Tj/iJI2d2Itn3qO2ixoNZNiT1/img.png)

이렇게 집어넣어줌. 이런식으로 각각의 컨테이너를 구축해서 도커 시스템으로 구축

마지막에 VULTR 라는 가상 서버 빌린 후 구축한 도커 시스템 올려서 서비스를 배포 해볼거에요!



##### 개발환경 셋업

==> [점프투장고](https://wikidocs.net/72377) 참조하기, 이건 가상환경 가서 django같은거 설치하고 플젝 생성이고

아래건 실제 환경에 django 설치하고 추가한거(이건 venv(가상환경)가 플젝 파일에 자동으로 생성)

- mkdir NAME
- cd NAME
- django-admin startproject config . 
- 그 플젝 열고 인터프리터 가서 add 하고 ok 눌러주면 새로운 가상환경 추가됨

##### MVC(Model View Controller)

- 애플에서 만든 개발 패턴인데 장고는 여기서 controller대신 template으로 (거의 명칭만 다름)

- Model: DB관련
- View: 유저-서버 통신(인증, 계산, 확인 등)
- Template: 인터페이스
- template <-> view <-> model

##### Acoount

- 터미널 들어가서 (ctrl + shift + tap + t)
- python manage.py startapp accountApp
- project/settings.py 에서 installed_apps 에서 'accountApp' 매핑 시켜줌

```python
#accountApp/views.py
def hello_world(request):
    return HttpResponse('Hello world')	#Alt + Enter 누르면 자동으로 import해줌 개꿀
```

```python
#project/urls.py
path('account/', include('accountApp.urls'))	#이거 추가해서 매핑시켜줌
```

```python
#accountApp/urls.py
app_name = 'accountApp'		#이렇게 해두면 나중에 함수써서 쉽게 호출가능
urlpatterns = [
    path('hello_world/', hello_world, name='hello_world')
]
```

##### git ignore(7강 참고)

- project - .gitignore 파일 만들고 [요기](https://github.com/github/gitignore/blob/master/Global/JetBrains.gitignore)에서 복붙 해넣으면 필요없는거 추적 안함

- config/settings.py 에 secret_key 관리해줘야하는데, [요기](https://django-environ.readthedocs.io/en/latest/)서 secret_key 노출 안시키고 내부 파일에서 자동으로 읽어서 개선해줄 수 있음
- 위 사이트에서 하란대로 하면 됨 pip install dajngo-environ

```python
#settings
import environ
env = environ.Env(
    # set casting, default value
    DEBUG=(bool, False)
)
```

- .env 파일 만들어서

```python
#.env
DEBUG=on
SECRET_KEY=your-secret-key			#이부분 settings에 있는 내 secret_key 입력(''x)
DATABASE_URL=psql://urser:un-githubbedpassword@127.0.0.1:8458/database
SQLITE_URL=sqlite:///my-local-sqlite.db
CACHE_URL=memcache://127.0.0.1:11211,127.0.0.1:11212,127.0.0.1:11213
REDIS_URL=rediscache://127.0.0.1:6379/1?client_class=django_redis.client.DefaultClient&password=ungithubbed-secret
```

```python
#settings
import os
#BASE_DIR아래쪽에
environ.Env.read_env(
    env_file = os.path.join(BASE_DIR, '.env')
)
```

```python
#settings 가서 이렇게 수정하고
SECRET_KEY = env('SECRET_KEY')
#.gitignore 가서
.env 	#라고 추가해주면 추적 안됨
```

- VCS - Enable Version control integration 누르고 git 누르면 추적 되는거 안되는거 구분 됨
- git status 해가면서 필요 없는거 추가해주면 됨 (Ex. .idea/)

```python
#.gitignore
.env
db.sqlite3
.idea/
__pycache__/
#가상환경 python에서 그냥 만들었으면 .venv 추가
```

